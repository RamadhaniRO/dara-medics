# DARA-Medics Environment Configuration
# Copy this file to .env and fill in your actual values

# Application Environment Configuration
# Choose one: development, staging, production
NODE_ENV=development
PORT=3000

# Base URLs (automatically configured based on environment)
BASE_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3001

# CORS Configuration
CORS_ORIGIN=http://localhost:3001
ENABLE_CORS=true

# Supabase Configuration
SUPABASE_URL=https://mdwicqcwzkmlwajxutjy.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1kd2ljcWN3emttbHdhanh1dGp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5ODk1MTUsImV4cCI6MjA3MjU2NTUxNX0.rXTR5PaijHWzt78MXiWBrjyL0n4fhap4PS1hKIvZNTY
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1kd2ljcWN3emttbHdhanh1dGp5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1Njk4OTUxNSwiZXhwIjoyMDcyNTY1NTE1fQ.YITviIwJVNs5ZjWubjPxeZhYwxL_WlXvEM5hdS6ip_I

# Authentication Configuration
JWT_SECRET=nItHhNqk3uMbd37iGajdw0kMcful9vCT4Fw5Y/dqGkU73w/mJr/KhZkEU1yh3QjTMBZRv7gVyNGAd+mvZwp6lQ==
JWT_EXPIRES_IN=24h
JWT_ISSUER=http://localhost:3000
JWT_AUDIENCE=http://localhost:3001

# Social Authentication (OAuth) Configuration
# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Microsoft OAuth
MICROSOFT_CLIENT_ID=your_microsoft_client_id
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret

# Apple OAuth
APPLE_CLIENT_ID=your_apple_client_id
APPLE_TEAM_ID=your_apple_team_id
APPLE_KEY_ID=your_apple_key_id
APPLE_PRIVATE_KEY=your_apple_private_key

# OAuth Redirect URLs (automatically configured)
API_BASE_URL=http://localhost:3000

# Email Verification Settings
ENABLE_EMAIL_CONFIRMATION=false
SKIP_EMAIL_VERIFICATION=true

# Security Settings
ENABLE_RATE_LIMIT=false
ENABLE_HTTPS=false
SESSION_SECRET=your_session_secret_key

# Development Settings
DEBUG_MODE=true
MOCK_AUTH=false

# WhatsApp Business API
WHATSAPP_API_TOKEN=your_whatsapp_api_token
WHATSAPP_PHONE_NUMBER_ID=your_whatsapp_phone_number_id
WHATSAPP_BUSINESS_ACCOUNT_ID=your_whatsapp_business_account_id
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your_webhook_verify_token

# LLM Configuration
LLM_PROVIDER=huggingface
HUGGINGFACE_MODEL=microsoft/DialoGPT-medium
HUGGINGFACE_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# OpenAI Configuration (alternative to HuggingFace)
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002

# RAG Configuration
RAG_MAX_RESULTS=10
RAG_SIMILARITY_THRESHOLD=0.7
RAG_ENABLE_HYBRID=true

# Supabase Configuration (Database)
SUPABASE_URL=https://mdwicqcwzkmlwajxutjy.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1kd2ljcWN3emttbHdhanh1dGp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5ODk1MTUsImV4cCI6MjA3MjU2NTUxNX0.rXTR5PaijHWzt78MXiWBrjyL0n4fhap4PS1hKIvZNTY
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1kd2ljcWN3emttbHdhanh1dGp5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1Njk4OTUxNSwiZXhwIjoyMDcyNTY1NTE1fQ.YITviIwJVNs5ZjWubjPxeZhYwxL_WlXvEM5hdS6ip_I

# Payment Gateway Configuration
MPESA_CONSUMER_KEY=your_mpesa_consumer_key
MPESA_CONSUMER_SECRET=your_mpesa_consumer_secret
MPESA_PASSKEY=your_mpesa_passkey
MPESA_BUSINESS_SHORTCODE=your_mpesa_business_shortcode

# File Storage (for media uploads)
STORAGE_PROVIDER=local # local, s3, supabase
UPLOAD_DIR=uploads
MAX_FILE_SIZE=10485760 # 10MB in bytes

# Email Configuration (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_email_password

# Logging
LOG_LEVEL=info # error, warn, info, debug
LOG_FILE=logs/dara-medics.log

# Security
RATE_LIMIT_WINDOW_MS=900000 # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
SESSION_SECRET=your_session_secret

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Development
DEBUG=true
ENABLE_SWAGGER=true
ENABLE_CORS=true

# Production
ENABLE_HTTPS=false
SSL_CERT_PATH=/path/to/ssl/cert
SSL_KEY_PATH=/path/to/ssl/key

# Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * * # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# WhatsApp Message Queue
QUEUE_CONCURRENCY=5
QUEUE_MAX_RETRIES=3
QUEUE_RETRY_DELAY=5000

# Agent Configuration
AGENT_TIMEOUT_MS=30000
AGENT_MAX_RETRIES=3
AGENT_CONFIDENCE_THRESHOLD=0.7

# RAG Configuration
RAG_TOP_K_RESULTS=5
RAG_SIMILARITY_THRESHOLD=0.8
RAG_MAX_TOKENS=1000

# Order Processing
ORDER_AUTO_APPROVAL_AMOUNT=1000
ORDER_REQUIRES_APPROVAL_AMOUNT=5000
ORDER_EXPIRY_HOURS=24

# Payment Processing
PAYMENT_TIMEOUT_MINUTES=30
PAYMENT_RETRY_ATTEMPTS=3
PAYMENT_WEBHOOK_TIMEOUT_MS=10000

# Delivery Configuration
DELIVERY_RADIUS_KM=50
DELIVERY_FEE_PER_KM=0.5
FREE_DELIVERY_THRESHOLD=5000

# Notification Settings
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_PUSH_NOTIFICATIONS=false

# Analytics
ANALYTICS_ENABLED=true
ANALYTICS_RETENTION_DAYS=365
ENABLE_GOOGLE_ANALYTICS=false
GOOGLE_ANALYTICS_ID=your_ga_id

# Support
SUPPORT_EMAIL=support@dara-medics.com
SUPPORT_PHONE=+1234567890
SUPPORT_HOURS=24/7

# Legal
TERMS_OF_SERVICE_URL=https://dara-medics.com/terms
PRIVACY_POLICY_URL=https://dara-medics.com/privacy
REFUND_POLICY_URL=https://dara-medics.com/refund

# Feature Flags
ENABLE_WHATSAPP_PAYMENTS=true
ENABLE_AI_CHATBOT=true
ENABLE_VOICE_MESSAGES=true
ENABLE_VIDEO_CALLS=false
ENABLE_MULTI_LANGUAGE=true
ENABLE_DARK_MODE=true

# Testing
ENABLE_TEST_MODE=false
TEST_PHONE_NUMBER=+1234567890
TEST_EMAIL=test@dara-medics.com

# Performance
ENABLE_CACHING=true
CACHE_TTL_SECONDS=3600
ENABLE_COMPRESSION=true
ENABLE_HTTP2=false

# Supabase Connection Pool
SUPABASE_POOL_MIN=2
SUPABASE_POOL_MAX=10
SUPABASE_POOL_ACQUIRE_TIMEOUT=60000
SUPABASE_POOL_IDLE_TIMEOUT=30000

# Webhook Configuration
WEBHOOK_TIMEOUT_MS=10000
WEBHOOK_MAX_RETRIES=3
WEBHOOK_RETRY_DELAY_MS=5000

# File Upload Limits
MAX_IMAGE_SIZE=5242880 # 5MB
MAX_DOCUMENT_SIZE=10485760 # 10MB
ALLOWED_IMAGE_TYPES=jpg,jpeg,png,gif,webp
ALLOWED_DOCUMENT_TYPES=pdf,doc,docx,txt

# API Versioning
API_VERSION=v1
API_PREFIX=/api

# Health Check
HEALTH_CHECK_INTERVAL_MS=30000
HEALTH_CHECK_TIMEOUT_MS=5000

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.

# Backup Storage
BACKUP_STORAGE_PROVIDER=local # local, s3, supabase
BACKUP_STORAGE_PATH=backups
BACKUP_COMPRESSION=true

# Error Reporting
ENABLE_ERROR_REPORTING=true
ERROR_REPORTING_SERVICE=sentry # sentry, rollbar, none
SENTRY_DSN=your_sentry_dsn

# Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=true
PERFORMANCE_MONITORING_SERVICE=newrelic # newrelic, datadog, none
NEW_RELIC_LICENSE_KEY=your_newrelic_key
